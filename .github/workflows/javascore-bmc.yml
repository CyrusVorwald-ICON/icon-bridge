name: Javascore BMC
on:
  push:
    branches:
      - 'main'
      - 'develop'
      - 'master'
      - 'beta-cicd'
    paths:
      - 'javascore/bmc'
  pull_request:
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      # - name: Set up JDK 11
      #   uses: actions/setup-java@v1
      #   with:
      #     java-version: 11

      - name: Build javascore bmc
        working-directory: ./javascore
        run: gradle bmc:build

      - name: Run javascore bmc tests
        working-directory: ./javascore
        run: gradle bmc:test

      - name: Generate optimizedJar
        working-directory: ./javascore
        run: |
             gradle bmc:optimizedJar
